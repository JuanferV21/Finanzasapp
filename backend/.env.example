# Base de datos MySQL
# En desarrollo (local):
DB_HOST=localhost
DB_PORT=3306
DB_USER=root
DB_PASSWORD=
DB_NAME=finanzas_dashboard

# En producción (PlanetScale + Render):
# PlanetScale provee DATABASE_URL automáticamente. Cópialo desde PlanetScale dashboard:
# DATABASE_URL=mysql://usuario:password@aws.connect.psdb.cloud/finanzas-dashboard?ssl={"rejectUnauthorized":true}
#
# Importante: Usa la URL completa de PlanetScale que incluye SSL

# Puerto del servidor
PORT=5000

# JWT Secret
JWT_SECRET=your-super-secret-jwt-key

# CORS Origin
# En desarrollo:
CORS_ORIGIN=http://localhost:5173
# En producción (Render + Netlify):
# CORS_ORIGIN=https://tu-app.netlify.app
## Nota: soporta múltiples orígenes separados por coma, por ejemplo:
# CORS_ORIGIN=http://localhost:5173,https://tu-app.netlify.app

# Cloudinary Configuration (REQUERIDO para backup de archivos)
CLOUDINARY_CLOUD_NAME=your-cloud-name
CLOUDINARY_API_KEY=your-api-key
CLOUDINARY_API_SECRET=your-api-secret

# Email Configuration (REQUERIDO para recuperación de contraseña)
# Para Gmail, usa una "App Password" en lugar de tu contraseña normal
# Ve a: Google Account > Security > App passwords
NOTIFY_EMAIL_USER=your-email@gmail.com
NOTIFY_EMAIL_PASS=your-gmail-app-password

# Push Notifications (opcional)
VAPID_PUBLIC_KEY=your-vapid-public-key
VAPID_PRIVATE_KEY=your-vapid-private-key
VAPID_EMAIL=mailto:your-email@example.com

# Node Environment
NODE_ENV=development

# Limpieza de archivos locales tras subir a Cloudinary
# Si está en 'true', al subir adjuntos se eliminará el archivo local cuando
# la subida a Cloudinary sea exitosa (recomendado en producción para ahorrar disco).
# En desarrollo: false, En producción (Render): true
CLEANUP_LOCAL_UPLOADS=false

# Tamaño máximo de cada archivo subido (MB)
MAX_UPLOAD_MB=5

# Límite de tamaño del cuerpo JSON (ej: 1mb, 2mb)
JSON_BODY_LIMIT=1mb

# Validación opcional de dimensiones de imagen
# Si se definen, las imágenes que excedan estos límites serán rechazadas
# MAX_IMAGE_WIDTH=4096
# MAX_IMAGE_HEIGHT=4096
# MAX_IMAGE_PIXELS=25   # en megapíxeles (ancho*alto/1_000_000)
